load("@//tools/build_rules:select.bzl", "cpu_select")

cc_library(
    name = "gstreamer",
    srcs = cpu_select({
        "amd64": [
            "lib/x86_64-linux-gnu/libblkid.so.1",
            "lib/x86_64-linux-gnu/libcom_err.so.2",
            "lib/x86_64-linux-gnu/libexpat.so.1",
            "lib/x86_64-linux-gnu/libkeyutils.so.1",
            "lib/x86_64-linux-gnu/liblzma.so.5",
            "lib/x86_64-linux-gnu/libmount.so.1",
            "lib/x86_64-linux-gnu/libpcre.so.3",
            "lib/x86_64-linux-gnu/libselinux.so.1",
            "lib/x86_64-linux-gnu/libudev.so.1",
            "lib/x86_64-linux-gnu/libuuid.so.1",
            "lib/x86_64-linux-gnu/libz.so.1",
            "usr/lib/x86_64-linux-gnu/libEGL.so.1",
            "usr/lib/x86_64-linux-gnu/libGL.so.1",
            "usr/lib/x86_64-linux-gnu/libGLX.so.0",
            "usr/lib/x86_64-linux-gnu/libGLdispatch.so.0",
            "usr/lib/x86_64-linux-gnu/libX11-xcb.so.1",
            "usr/lib/x86_64-linux-gnu/libX11.so.6",
            "usr/lib/x86_64-linux-gnu/libXau.so.6",
            "usr/lib/x86_64-linux-gnu/libXdmcp.so.6",
            "usr/lib/x86_64-linux-gnu/libatomic.so.1",
            "usr/lib/x86_64-linux-gnu/libbsd.so.0",
            "usr/lib/x86_64-linux-gnu/libdrm.so.2",
            "usr/lib/x86_64-linux-gnu/libffi.so.6",
            "usr/lib/x86_64-linux-gnu/libgbm.so.1",
            "usr/lib/x86_64-linux-gnu/libgio-2.0.so.0",
            "usr/lib/x86_64-linux-gnu/libglib-2.0.so",
            "usr/lib/x86_64-linux-gnu/libgmodule-2.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgmp.so.10",
            "usr/lib/x86_64-linux-gnu/libgnutls.so.30",
            "usr/lib/x86_64-linux-gnu/libgobject-2.0.so",
            "usr/lib/x86_64-linux-gnu/libgssapi_krb5.so.2",
            "usr/lib/x86_64-linux-gnu/libgssdp-1.0.so.3",
            "usr/lib/x86_64-linux-gnu/libgstallocators-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgstapp-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgstaudio-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgstbadvideo-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgstbase-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgstgl-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgstreamer-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgstrtp-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgstsdp-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgsttag-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgstvideo-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgstwebrtc-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgthread-2.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgudev-1.0.so.0",
            "usr/lib/x86_64-linux-gnu/libgupnp-1.0.so.4",
            "usr/lib/x86_64-linux-gnu/libgupnp-igd-1.0.so.4",
            "usr/lib/x86_64-linux-gnu/libhogweed.so.4",
            "usr/lib/x86_64-linux-gnu/libicudata.so.63",
            "usr/lib/x86_64-linux-gnu/libicui18n.so.63",
            "usr/lib/x86_64-linux-gnu/libicuuc.so.63",
            "usr/lib/x86_64-linux-gnu/libidn2.so.0",
            "usr/lib/x86_64-linux-gnu/libjpeg.so.62",
            "usr/lib/x86_64-linux-gnu/libk5crypto.so.3",
            "usr/lib/x86_64-linux-gnu/libkrb5.so.3",
            "usr/lib/x86_64-linux-gnu/libkrb5support.so.0",
            "usr/lib/x86_64-linux-gnu/libnettle.so.6",
            "usr/lib/x86_64-linux-gnu/libnice.so.10",
            "usr/lib/x86_64-linux-gnu/libopencv_core.so.3.2",
            "usr/lib/x86_64-linux-gnu/liborc-0.4.so.0",
            "usr/lib/x86_64-linux-gnu/libp11-kit.so.0",
            "usr/lib/x86_64-linux-gnu/libpsl.so.5",
            "usr/lib/x86_64-linux-gnu/libsoup-2.4.so.1",
            "usr/lib/x86_64-linux-gnu/libsqlite3.so.0",
            "usr/lib/x86_64-linux-gnu/libtasn1.so.6",
            "usr/lib/x86_64-linux-gnu/libtbb.so.2",
            "usr/lib/x86_64-linux-gnu/libunistring.so.2",
            "usr/lib/x86_64-linux-gnu/libvpx.so.5",
            "usr/lib/x86_64-linux-gnu/libwayland-client.so.0",
            "usr/lib/x86_64-linux-gnu/libwayland-egl.so.1",
            "usr/lib/x86_64-linux-gnu/libwayland-server.so.0",
            "usr/lib/x86_64-linux-gnu/libx265.so.165",
            "usr/lib/x86_64-linux-gnu/libxcb.so.1",
            "usr/lib/x86_64-linux-gnu/libxml2.so.2",
        ],
        "roborio": [
        ],
        "armhf": [
            "lib/arm-linux-gnueabihf/libblkid.so.1",
            "lib/arm-linux-gnueabihf/libcom_err.so.2",
            "lib/arm-linux-gnueabihf/libexpat.so.1",
            "lib/arm-linux-gnueabihf/libkeyutils.so.1",
            "lib/arm-linux-gnueabihf/liblzma.so.5",
            "lib/arm-linux-gnueabihf/libmount.so.1",
            "lib/arm-linux-gnueabihf/libpcre.so.3",
            "lib/arm-linux-gnueabihf/libselinux.so.1",
            "lib/arm-linux-gnueabihf/libudev.so.1",
            "lib/arm-linux-gnueabihf/libuuid.so.1",
            "lib/arm-linux-gnueabihf/libz.so.1",
            "usr/lib/arm-linux-gnueabihf/libEGL.so.1",
            "usr/lib/arm-linux-gnueabihf/libGL.so.1",
            "usr/lib/arm-linux-gnueabihf/libGLX.so.0",
            "usr/lib/arm-linux-gnueabihf/libGLdispatch.so.0",
            "usr/lib/arm-linux-gnueabihf/libX11-xcb.so.1",
            "usr/lib/arm-linux-gnueabihf/libX11.so.6",
            "usr/lib/arm-linux-gnueabihf/libXau.so.6",
            "usr/lib/arm-linux-gnueabihf/libXdmcp.so.6",
            "usr/lib/arm-linux-gnueabihf/libatomic.so.1",
            "usr/lib/arm-linux-gnueabihf/libbsd.so.0",
            "usr/lib/arm-linux-gnueabihf/libdrm.so.2",
            "usr/lib/arm-linux-gnueabihf/libffi.so.6",
            "usr/lib/arm-linux-gnueabihf/libgbm.so.1",
            "usr/lib/arm-linux-gnueabihf/libgio-2.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libglib-2.0.so",
            "usr/lib/arm-linux-gnueabihf/libgmodule-2.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgmp.so.10",
            "usr/lib/arm-linux-gnueabihf/libgnutls.so.30",
            "usr/lib/arm-linux-gnueabihf/libgobject-2.0.so",
            "usr/lib/arm-linux-gnueabihf/libgssapi_krb5.so.2",
            "usr/lib/arm-linux-gnueabihf/libgssdp-1.0.so.3",
            "usr/lib/arm-linux-gnueabihf/libgstallocators-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgstapp-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgstaudio-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgstbadvideo-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgstbase-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgstgl-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgstreamer-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgstrtp-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgstsdp-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgsttag-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgstvideo-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgstwebrtc-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgthread-2.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgudev-1.0.so.0",
            "usr/lib/arm-linux-gnueabihf/libgupnp-1.0.so.4",
            "usr/lib/arm-linux-gnueabihf/libgupnp-igd-1.0.so.4",
            "usr/lib/arm-linux-gnueabihf/libhogweed.so.4",
            "usr/lib/arm-linux-gnueabihf/libicudata.so.63",
            "usr/lib/arm-linux-gnueabihf/libicui18n.so.63",
            "usr/lib/arm-linux-gnueabihf/libicuuc.so.63",
            "usr/lib/arm-linux-gnueabihf/libidn2.so.0",
            "usr/lib/arm-linux-gnueabihf/libjpeg.so.62",
            "usr/lib/arm-linux-gnueabihf/libk5crypto.so.3",
            "usr/lib/arm-linux-gnueabihf/libkrb5.so.3",
            "usr/lib/arm-linux-gnueabihf/libkrb5support.so.0",
            "usr/lib/arm-linux-gnueabihf/libnettle.so.6",
            "usr/lib/arm-linux-gnueabihf/libnice.so.10",
            "usr/lib/arm-linux-gnueabihf/libopencv_core.so.3.2",
            "usr/lib/arm-linux-gnueabihf/liborc-0.4.so.0",
            "usr/lib/arm-linux-gnueabihf/libp11-kit.so.0",
            "usr/lib/arm-linux-gnueabihf/libpsl.so.5",
            "usr/lib/arm-linux-gnueabihf/libsoup-2.4.so.1",
            "usr/lib/arm-linux-gnueabihf/libsqlite3.so.0",
            "usr/lib/arm-linux-gnueabihf/libtasn1.so.6",
            "usr/lib/arm-linux-gnueabihf/libtbb.so.2",
            "usr/lib/arm-linux-gnueabihf/libunistring.so.2",
            "usr/lib/arm-linux-gnueabihf/libvpx.so.5",
            "usr/lib/arm-linux-gnueabihf/libwayland-client.so.0",
            "usr/lib/arm-linux-gnueabihf/libwayland-egl.so.1",
            "usr/lib/arm-linux-gnueabihf/libwayland-server.so.0",
            "usr/lib/arm-linux-gnueabihf/libx265.so.165",
            "usr/lib/arm-linux-gnueabihf/libxcb.so.1",
            "usr/lib/arm-linux-gnueabihf/libxml2.so.2",
        ],
        "cortex-m": [],
    }),
    hdrs = glob([
        "usr/lib/x86_64-linux-gnu/glib-2.0/include/**/*.h",
        "usr/include/gstreamer-1.0/**/*.h",
        "usr/include/glib-2.0/**/*.h",
        "usr/lib/arm-linux-gnueabihf/glib-2.0/include/**/*.h",
    ]),
    includes = cpu_select({
        "amd64": [
            "usr/lib/x86_64-linux-gnu/glib-2.0/include",
            "usr/include/glib-2.0",
            "usr/include/gstreamer-1.0",
        ],
        "armhf": [
            "usr/lib/arm-linux-gnueabihf/glib-2.0/include",
            "usr/include/glib-2.0",
            "usr/include/gstreamer-1.0",
        ],
        "roborio": [
        ],
        "cortex-m": [
        ],
    }),
    linkopts = [
        "-ldl",
        "-lresolv",
    ],
    visibility = ["//visibility:public"],
)
